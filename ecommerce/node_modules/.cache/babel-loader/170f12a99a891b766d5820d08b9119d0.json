{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\Likith Reddy\\\\Desktop\\\\e-cart\\\\e-cart\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _slicedToArray from\"C:\\\\Users\\\\Likith Reddy\\\\Desktop\\\\e-cart\\\\e-cart\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Likith Reddy\\\\Desktop\\\\e-cart\\\\e-cart\\\\ecommerce\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import Signup from\"../home/Signup\";import Navbar from\"../home/Navbar\";import React,{useState,useEffect}from\"react\";import{CssBaseline}from\"@material-ui/core\";import theme from\"../home/theme\";import HomeApp from\"../home/HomeApp\";import Home from\"../home/Home\";import{Grid}from\"@material-ui/core\";import Login from\"../home/Login\";import Products from\"./products/products\";import Navbar1 from\"./Navbar/Navbarlocal\";import{commerce}from\"../lib/commerce\";import Cart from\"./Cart/Cart\";import{BrowserRouter,Routes,Route}from\"react-router-dom\";import Checkout from\"./CheckoutForm/Checkout/Checkout\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setcart=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),order=_useState6[0],setOrder=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errorMessage=_useState8[0],setErrorMessage=_useState8[1];//handles logs\n//fetch data\nvar fetchdata=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$commerce$produ,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return commerce.products.list();case 2:_yield$commerce$produ=_context.sent;data=_yield$commerce$produ.data;setProducts(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchdata(){return _ref.apply(this,arguments);};}();//fetch cart\nvar fetchCart=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.t0=setcart;_context2.next=3;return commerce.cart.retrieve();case 3:_context2.t1=_context2.sent;(0,_context2.t0)(_context2.t1);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function fetchCart(){return _ref2.apply(this,arguments);};}();//useEffect for fetching data\nuseEffect(function(){fetchdata();fetchCart();},[]);//handlecart\nvar handleCart=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(productid,quantity){var item;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return commerce.cart.add(productid,quantity);case 2:item=_context3.sent;setcart(item.cart);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function handleCart(_x,_x2){return _ref3.apply(this,arguments);};}();//update cart quantity\nvar handlequantity=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(productid,quantity){var _yield$commerce$cart$,cart;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return commerce.cart.update(productid,{quantity:quantity});case 2:_yield$commerce$cart$=_context4.sent;cart=_yield$commerce$cart$.cart;setcart(cart);case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function handlequantity(_x3,_x4){return _ref4.apply(this,arguments);};}();//remove from cart\nvar removecart=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(productid){var response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return commerce.cart.remove(productid);case 2:response=_context5.sent;setcart(response.cart);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function removecart(_x5){return _ref5.apply(this,arguments);};}();// empty your cart\nvar emptycart=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return commerce.cart.empty();case 2:response=_context6.sent;setcart(response.cart);case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function emptycart(){return _ref6.apply(this,arguments);};}();//handleCaptureCheckout\nvar handleCaptureCheckout=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(checkoutTokenId,newOrder){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:setcart({});refreshCart();case 2:case\"end\":return _context7.stop();}}},_callee7);}));return function handleCaptureCheckout(_x6,_x7){return _ref7.apply(this,arguments);};}();//refresh our cart\nvar refreshCart=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var newCart;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return commerce.cart.refresh();case 2:newCart=_context8.sent;setcart(newCart);case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function refreshCart(){return _ref8.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomeApp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product\",element:/*#__PURE__*/_jsx(Products,{products:products,addToCart:handleCart,totalitems:cart.total_items})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{cart1:cart,handlequantity:handlequantity,removecart:removecart,emptycart:emptycart})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(Checkout,{cart:cart,order:order,handleCaptureCheckout:handleCaptureCheckout,error:errorMessage})})]})})});}","map":{"version":3,"sources":["C:/Users/Likith Reddy/Desktop/e-cart/e-cart/ecommerce/src/components/App.js"],"names":["Signup","Navbar","React","useState","useEffect","CssBaseline","theme","HomeApp","Home","Grid","Login","Products","Navbar1","commerce","Cart","BrowserRouter","Routes","Route","Checkout","App","products","setProducts","cart","setcart","order","setOrder","errorMessage","setErrorMessage","fetchdata","list","data","fetchCart","retrieve","handleCart","productid","quantity","add","item","handlequantity","update","removecart","remove","response","emptycart","empty","handleCaptureCheckout","checkoutTokenId","newOrder","refreshCart","refresh","newCart","total_items"],"mappings":"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","sourcesContent":["import Signup from \"../home/Signup\";\r\nimport Navbar from \"../home/Navbar\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { CssBaseline } from \"@material-ui/core\";\r\nimport theme from \"../home/theme\";\r\nimport HomeApp from \"../home/HomeApp\";\r\nimport Home from \"../home/Home\";\r\nimport { Grid } from \"@material-ui/core\";\r\nimport Login from \"../home/Login\";\r\nimport Products from \"./products/products\";\r\nimport Navbar1 from \"./Navbar/Navbarlocal\";\r\nimport { commerce } from \"../lib/commerce\";\r\nimport Cart from \"./Cart/Cart\";\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport Checkout from \"./CheckoutForm/Checkout/Checkout\";\r\nexport default function App() {\r\n  const [products, setProducts] = useState([]);\r\n  const [cart, setcart] = useState({});\r\n  const [order, setOrder] = useState({});\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  //handles logs\r\n  //fetch data\r\n  const fetchdata = async () => {\r\n    const { data } = await commerce.products.list();\r\n    setProducts(data);\r\n  };\r\n\r\n  //fetch cart\r\n  const fetchCart = async () => {\r\n    setcart(await commerce.cart.retrieve());\r\n  };\r\n\r\n  //useEffect for fetching data\r\n  useEffect(() => {\r\n    fetchdata();\r\n    fetchCart();\r\n  }, []);\r\n\r\n  //handlecart\r\n\r\n  const handleCart = async (productid, quantity) => {\r\n    const item = await commerce.cart.add(productid, quantity);\r\n    setcart(item.cart);\r\n  };\r\n\r\n  //update cart quantity\r\n  const handlequantity = async (productid, quantity) => {\r\n    const { cart } = await commerce.cart.update(productid, { quantity });\r\n    setcart(cart);\r\n  };\r\n\r\n  //remove from cart\r\n  const removecart = async (productid) => {\r\n    const response = await commerce.cart.remove(productid);\r\n    setcart(response.cart);\r\n  };\r\n\r\n  // empty your cart\r\n\r\n  const emptycart = async () => {\r\n    const response = await commerce.cart.empty();\r\n    setcart(response.cart);\r\n  };\r\n  //handleCaptureCheckout\r\n  const handleCaptureCheckout = async (checkoutTokenId, newOrder) => {\r\n    setcart({});\r\n    refreshCart();\r\n  };\r\n\r\n  //refresh our cart\r\n  const refreshCart = async () => {\r\n    const newCart = await commerce.cart.refresh();\r\n    setcart(newCart);\r\n  };\r\n  return (\r\n    <>\r\n      <BrowserRouter>\r\n        <Routes>\r\n       <Route path='/' element={<HomeApp/>}/>\r\n          <Route\r\n            path=\"/product\"\r\n            element={<Products products={products} addToCart={handleCart}  totalitems={cart.total_items}/>}\r\n          />\r\n          <Route\r\n            path=\"/cart\"\r\n            element={\r\n              <Cart\r\n                cart1={cart}\r\n                handlequantity={handlequantity}\r\n                removecart={removecart}\r\n                emptycart={emptycart}\r\n              />\r\n            }\r\n          />\r\n          <Route\r\n            path=\"/checkout\"\r\n            element={\r\n              <Checkout\r\n                cart={cart}\r\n                order={order}\r\n                handleCaptureCheckout={handleCaptureCheckout}\r\n                error={errorMessage}\r\n              />\r\n            }\r\n          />\r\n        </Routes>\r\n      </BrowserRouter>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}